# Caring Compass Environment Configuration
# Copy this file to .env and update the values

#==============================================================================
# General Configuration
#==============================================================================
NODE_ENV=development
TIMEZONE=America/New_York
SUPPORT_PHONE=+1-555-SUPPORT
BILLING_PHONE=+1-555-BILLING

#==============================================================================
# Database Configuration (Supabase)
#==============================================================================
DATABASE_URL="postgresql://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT-REF].supabase.co:5432/postgres"
SUPABASE_URL="https://[YOUR-PROJECT-REF].supabase.co"
SUPABASE_ANON_KEY="[YOUR-ANON-KEY]"
SUPABASE_SERVICE_KEY="[YOUR-SERVICE-ROLE-KEY]"
SUPABASE_STORAGE_BUCKET="documents"

#==============================================================================
# Redis Configuration (Upstash for production, local for development)
#==============================================================================
# For local development
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# For production (Upstash)
# REDIS_URL="redis://default:[PASSWORD]@[HOST]:[PORT]"

#==============================================================================
# Authentication & Security
#==============================================================================
JWT_SECRET="your-super-secret-jwt-key-change-this-in-production"
NEXTAUTH_SECRET="your-nextauth-secret-key"
NEXTAUTH_URL="http://localhost:3000"

#==============================================================================
# Email Configuration
#==============================================================================
EMAIL_PROVIDER=SENDGRID
DEFAULT_FROM_EMAIL=noreply@caringcompass.com
DEFAULT_REPLY_TO_EMAIL=support@caringcompass.com

# SendGrid (choose one email provider)
SENDGRID_API_KEY="SG.your-sendgrid-api-key"

# Resend (alternative to SendGrid)
# RESEND_API_KEY="re_your-resend-api-key"

#==============================================================================
# SMS Configuration (Twilio)
#==============================================================================
TWILIO_ACCOUNT_SID="AC_your_twilio_account_sid"
TWILIO_AUTH_TOKEN="your_twilio_auth_token"
TWILIO_PHONE_NUMBER="+1234567890"
DEFAULT_COUNTRY_CODE="+1"

#==============================================================================
# Payment Processing (Stripe)
#==============================================================================
STRIPE_SECRET_KEY="sk_test_your_stripe_secret_key"
STRIPE_PUBLISHABLE_KEY="pk_test_your_stripe_publishable_key"
STRIPE_WEBHOOK_SECRET="whsec_your_webhook_secret"
DEFAULT_CURRENCY="usd"
DEFAULT_COUNTRY="US"

#==============================================================================
# File Storage Configuration
#==============================================================================
MAX_FILE_SIZE=10485760  # 10MB in bytes
ALLOWED_FILE_TYPES="pdf,doc,docx,jpg,jpeg,png,gif,webp"
COMPRESS_IMAGES=true
COMPRESS_PDFS=true
COMPRESSION_QUALITY=85

#==============================================================================
# Application URLs
#==============================================================================
CLIENT_PORTAL_URL="http://localhost:3000/client"
CAREGIVER_PORTAL_URL="http://localhost:3000/caregiver"
ADMIN_PORTAL_URL="http://localhost:3000/admin"

#==============================================================================
# Third-Party Integrations
#==============================================================================
# PandaDoc (for e-signatures)
# PANDADOC_API_KEY="your-pandadoc-api-key"

# Background Check Provider
# CHECKR_API_KEY="your-checkr-api-key"

#==============================================================================
# Monitoring & Logging
#==============================================================================
# Sentry (error monitoring)
# SENTRY_DSN="https://your-sentry-dsn@sentry.io/project-id"

# LogTail (logging service)
# LOGTAIL_SOURCE_TOKEN="your-logtail-source-token"

#==============================================================================
# Development & Testing
#==============================================================================
# Set to true to enable debug logging
DEBUG=false

# Test database URL (optional, for running tests)
# TEST_DATABASE_URL="postgresql://postgres:test@localhost:5433/caring_compass_test"

#==============================================================================
# Feature Flags
#==============================================================================
ENABLE_VISIT_REMINDERS=true
ENABLE_CREDENTIAL_ALERTS=true
ENABLE_AUTO_INVOICING=true
ENABLE_AUTO_MATCHING=false
ENABLE_SMS_NOTIFICATIONS=true
ENABLE_EMAIL_NOTIFICATIONS=true

#==============================================================================
# Scheduling Configuration
#==============================================================================
MIN_VISIT_DURATION=2  # hours
MAX_VISIT_DURATION=24 # hours
AUTO_MATCHING_ENABLED=true
REQUIRE_APPROVAL_FOR_CHANGES=true

#==============================================================================
# Business Rules
#==============================================================================
DEFAULT_PAYMENT_TERMS=30  # days
LATE_FEE_PERCENTAGE=5
AUTO_INVOICE_GENERATION=true

#==============================================================================
# Security Settings
#==============================================================================
MFA_REQUIRED=false
PASSWORD_EXPIRY_DAYS=90
SESSION_TIMEOUT_MINUTES=1440  # 24 hours
MAX_LOGIN_ATTEMPTS=5

#==============================================================================
# Notification Settings
#==============================================================================
VISIT_REMINDER_24H=true
VISIT_REMINDER_2H=true
VISIT_REMINDER_30M=true
CREDENTIAL_EXPIRY_30D=true
CREDENTIAL_EXPIRY_7D=true
CREDENTIAL_EXPIRY_1D=true
OVERDUE_INVOICE_REMINDERS=true
TIMESHEET_REMINDERS=true
