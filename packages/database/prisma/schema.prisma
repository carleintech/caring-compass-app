generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model CareRequest {
  id          String            @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  name        String
  email       String
  phone       String
  careType    String
  startDate   DateTime
  message     String?
  status      CareRequestStatus @default(PENDING)
  submittedAt DateTime          @default(now())
  updatedAt   DateTime
  assignedTo  String?           @db.Uuid
  notes       String?
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model addresses {
  id                 String              @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  street1            String
  street2            String?
  city               String
  state              String
  zipCode            String
  country            String              @default("US")
  clientProfileId    String?             @db.Uuid
  caregiverProfileId String?             @db.Uuid
  emergencyContactId String?             @db.Uuid
  caregiver_profiles caregiver_profiles? @relation(fields: [caregiverProfileId], references: [id])
  client_profiles    client_profiles?    @relation(fields: [clientProfileId], references: [id])
  emergency_contacts emergency_contacts? @relation(fields: [emergencyContactId], references: [id])
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model appointments {
  id                                    String            @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  date                                  DateTime
  duration                              Int
  notes                                 String?
  status                                AppointmentStatus @default(SCHEDULED)
  createdAt                             DateTime          @default(now())
  updatedAt                             DateTime
  createdById                           String            @db.Uuid
  clientId                              String?           @db.Uuid
  caregiverId                           String?           @db.Uuid
  users_appointments_caregiverIdTousers users?            @relation("appointments_caregiverIdTousers", fields: [caregiverId], references: [id])
  users_appointments_clientIdTousers    users?            @relation("appointments_clientIdTousers", fields: [clientId], references: [id])
  users_appointments_createdByIdTousers users             @relation("appointments_createdByIdTousers", fields: [createdById], references: [id])

  @@index([caregiverId])
  @@index([clientId])
  @@index([date])
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model audit_logs {
  id           String      @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  userId       String?     @db.Uuid
  action       AuditAction
  resourceType String
  resourceId   String?
  oldValues    Json?
  newValues    Json?
  ipAddress    String?
  userAgent    String?
  timestamp    DateTime    @default(now())
  users        users?      @relation(fields: [userId], references: [id])
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model care_goals {
  id            String        @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  planOfCareId  String        @db.Uuid
  title         String
  description   String
  targetDate    DateTime?
  priority      Priority      @default(MEDIUM)
  status        GoalStatus    @default(IN_PROGRESS)
  createdAt     DateTime      @default(now())
  updatedAt     DateTime
  plans_of_care plans_of_care @relation(fields: [planOfCareId], references: [id], onDelete: Cascade)
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model caregiver_availability {
  id                 String             @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  caregiverId        String             @db.Uuid
  dayOfWeek          DayOfWeek
  startTime          String
  endTime            String
  isRecurring        Boolean            @default(true)
  effectiveDate      DateTime           @default(now())
  endDate            DateTime?
  createdAt          DateTime           @default(now())
  updatedAt          DateTime
  caregiver_profiles caregiver_profiles @relation(fields: [caregiverId], references: [id], onDelete: Cascade)
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model caregiver_coordinators {
  caregiverId          String               @db.Uuid
  coordinatorId        String               @db.Uuid
  assignedAt           DateTime             @default(now())
  caregiver_profiles   caregiver_profiles   @relation(fields: [caregiverId], references: [id], onDelete: Cascade)
  coordinator_profiles coordinator_profiles @relation(fields: [coordinatorId], references: [id], onDelete: Cascade)

  @@id([caregiverId, coordinatorId])
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model caregiver_credentials {
  id                  String             @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  caregiverId         String             @db.Uuid
  type                CredentialType
  credentialNumber    String?
  issuingOrganization String
  issueDate           DateTime
  expirationDate      DateTime?
  documentUrl         String?
  status              CredentialStatus   @default(PENDING_VERIFICATION)
  createdAt           DateTime           @default(now())
  updatedAt           DateTime
  caregiver_profiles  caregiver_profiles @relation(fields: [caregiverId], references: [id], onDelete: Cascade)
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model caregiver_languages {
  id                 String              @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  caregiverId        String              @db.Uuid
  language           String
  proficiency        LanguageProficiency
  caregiver_profiles caregiver_profiles  @relation(fields: [caregiverId], references: [id], onDelete: Cascade)

  @@unique([caregiverId, language])
}

model caregiver_preferences {
  id                      String              @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  maxTravelDistance       Int                 @default(25)
  preferredClients        String[]
  availableForEmergency   Boolean             @default(false)
  transportationAvailable Boolean             @default(true)
  caregiverProfileId      String?             @unique @db.Uuid
  caregiver_profiles      caregiver_profiles? @relation(fields: [caregiverProfileId], references: [id])
}

model caregiver_profiles {
  id                     String                   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  userId                 String                   @unique @db.Uuid
  firstName              String
  lastName               String
  dateOfBirth            DateTime
  gender                 Gender?
  profilePhoto           String?
  primaryPhone           String
  secondaryPhone         String?
  employeeId             String?                  @unique
  hireDate               DateTime?
  status                 CaregiverStatus          @default(APPLICATION_SUBMITTED)
  employmentType         EmploymentType           @default(PART_TIME)
  createdAt              DateTime                 @default(now())
  updatedAt              DateTime
  addresses              addresses[]
  caregiver_availability caregiver_availability[]
  caregiver_coordinators caregiver_coordinators[]
  caregiver_credentials  caregiver_credentials[]
  caregiver_languages    caregiver_languages[]
  caregiver_preferences  caregiver_preferences?
  users                  users                    @relation(fields: [userId], references: [id], onDelete: Cascade)
  caregiver_ratings      caregiver_ratings[]
  caregiver_skills       caregiver_skills[]
  emergency_contacts     emergency_contacts[]
  schedule_preferences   schedule_preferences[]
  timesheets             timesheets[]
  visits                 visits[]
}

model caregiver_ratings {
  id                  String             @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  caregiverId         String             @db.Uuid
  clientId            String             @db.Uuid
  visitId             String?            @db.Uuid
  overallRating       Int
  punctualityRating   Int?
  qualityRating       Int?
  communicationRating Int?
  comments            String?
  wouldRecommend      Boolean?
  createdAt           DateTime           @default(now())
  caregiver_profiles  caregiver_profiles @relation(fields: [caregiverId], references: [id], onDelete: Cascade)
  client_profiles     client_profiles    @relation(fields: [clientId], references: [id], onDelete: Cascade)
}

model caregiver_skills {
  id                 String             @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  caregiverId        String             @db.Uuid
  skill              SkillType
  level              SkillLevel         @default(BASIC)
  certifiedAt        DateTime?
  caregiver_profiles caregiver_profiles @relation(fields: [caregiverId], references: [id], onDelete: Cascade)

  @@unique([caregiverId, skill])
}

model client_coordinators {
  clientId             String               @db.Uuid
  coordinatorId        String               @db.Uuid
  assignedAt           DateTime             @default(now())
  isPrimary            Boolean              @default(true)
  client_profiles      client_profiles      @relation(fields: [clientId], references: [id], onDelete: Cascade)
  coordinator_profiles coordinator_profiles @relation(fields: [coordinatorId], references: [id], onDelete: Cascade)

  @@id([clientId, coordinatorId])
}

model client_preferences {
  id                 String           @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  genderPreference   String?
  languagePreference String[]
  petAllergies       Boolean          @default(false)
  smokingPolicy      String?
  specialRequests    String?
  clientProfileId    String?          @unique @db.Uuid
  client_profiles    client_profiles? @relation(fields: [clientProfileId], references: [id])
}

model client_profiles {
  id                  String                @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  userId              String                @unique @db.Uuid
  firstName           String
  lastName            String
  dateOfBirth         DateTime
  gender              Gender?
  preferredName       String?
  profilePhoto        String?
  primaryPhone        String
  secondaryPhone      String?
  status              ClientStatus          @default(INQUIRY)
  enrollmentDate      DateTime?
  createdAt           DateTime              @default(now())
  updatedAt           DateTime
  addresses           addresses[]
  caregiver_ratings   caregiver_ratings[]
  client_coordinators client_coordinators[]
  client_preferences  client_preferences?
  users               users                 @relation(fields: [userId], references: [id], onDelete: Cascade)
  documents           documents[]
  emergency_contacts  emergency_contacts[]
  family_profiles     family_profiles[]
  incident_reports    incident_reports[]
  invoices            invoices[]
  medical_info        medical_info?
  message_threads     message_threads[]
  plans_of_care       plans_of_care?
  visits              visits[]
}

model coordinator_profiles {
  id                     String                   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  userId                 String                   @unique @db.Uuid
  firstName              String
  lastName               String
  title                  String?
  department             String?
  createdAt              DateTime                 @default(now())
  updatedAt              DateTime
  caregiver_coordinators caregiver_coordinators[]
  client_coordinators    client_coordinators[]
  users                  users                    @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model date_ranges {
  id         String       @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  startDate  DateTime
  endDate    DateTime
  invoices   invoices[]
  timesheets timesheets[]
}

model documents {
  id              String           @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  uploadedById    String           @db.Uuid
  clientId        String?          @db.Uuid
  fileName        String
  originalName    String
  fileSize        Int
  mimeType        String
  fileUrl         String
  documentType    DocumentType
  tags            String[]
  description     String?
  status          DocumentStatus   @default(ACTIVE)
  isEncrypted     Boolean          @default(false)
  accessLevel     AccessLevel      @default(PRIVATE)
  createdAt       DateTime         @default(now())
  updatedAt       DateTime
  client_profiles client_profiles? @relation(fields: [clientId], references: [id], onDelete: Cascade)
  users           users            @relation(fields: [uploadedById], references: [id], onDelete: Cascade)
}

model email_logs {
  id             String          @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  to             String
  from           String
  subject        String
  templateId     String?
  templateData   Json?
  htmlContent    String?
  textContent    String?
  status         EmailStatus     @default(PENDING)
  deliveryStatus String?
  errorMessage   String?
  provider       String          @default("SENDGRID")
  messageId      String?
  priority       MessagePriority @default(NORMAL)
  sentAt         DateTime?
  deliveredAt    DateTime?
  openedAt       DateTime?
  clickedAt      DateTime?
  createdAt      DateTime        @default(now())
  updatedAt      DateTime
}

model emergency_contacts {
  id                 String              @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  name               String
  relationship       String
  primaryPhone       String
  secondaryPhone     String?
  clientProfileId    String?             @db.Uuid
  caregiverProfileId String?             @db.Uuid
  addresses          addresses[]
  caregiver_profiles caregiver_profiles? @relation(fields: [caregiverProfileId], references: [id])
  client_profiles    client_profiles?    @relation(fields: [clientProfileId], references: [id])
}

model evv_events {
  id        String       @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  visitId   String       @db.Uuid
  eventType EVVEventType
  timestamp DateTime     @default(now())
  latitude  Decimal?     @db.Decimal(10, 8)
  longitude Decimal?     @db.Decimal(11, 8)
  deviceId  String?
  ipAddress String?
  userAgent String?
  telephony String?
  createdAt DateTime     @default(now())
  visits    visits       @relation(fields: [visitId], references: [id], onDelete: Cascade)
}

model family_profiles {
  id                String          @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  userId            String          @unique @db.Uuid
  clientId          String          @db.Uuid
  firstName         String
  lastName          String
  relationship      String
  primaryPhone      String
  secondaryPhone    String?
  email             String
  canViewSchedule   Boolean         @default(true)
  canViewBilling    Boolean         @default(false)
  canReceiveUpdates Boolean         @default(true)
  preferredContact  ContactMethod   @default(EMAIL)
  createdAt         DateTime        @default(now())
  updatedAt         DateTime
  client_profiles   client_profiles @relation(fields: [clientId], references: [id], onDelete: Cascade)
  users             users           @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model incident_reports {
  id               String           @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  clientId         String           @db.Uuid
  reportedById     String           @db.Uuid
  incidentType     IncidentType
  severity         IncidentSeverity
  incidentDate     DateTime
  description      String
  location         String?
  injuryOccurred   Boolean          @default(false)
  medicalAttention Boolean          @default(false)
  actionsTaken     String?
  followUpRequired Boolean          @default(false)
  status           IncidentStatus   @default(REPORTED)
  investigatedAt   DateTime?
  investigatedBy   String?
  resolution       String?
  createdAt        DateTime         @default(now())
  updatedAt        DateTime
  client_profiles  client_profiles  @relation(fields: [clientId], references: [id], onDelete: Cascade)
  users            users            @relation(fields: [reportedById], references: [id], onDelete: Cascade)
}

model invoice_line_items {
  id          String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  invoiceId   String   @db.Uuid
  description String
  quantity    Decimal  @db.Decimal(6, 2)
  unitPrice   Decimal  @db.Decimal(8, 2)
  totalPrice  Decimal  @db.Decimal(10, 2)
  visitId     String?  @db.Uuid
  invoices    invoices @relation(fields: [invoiceId], references: [id], onDelete: Cascade)
}

model invoices {
  id                 String               @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  clientId           String               @db.Uuid
  invoiceNumber      String               @unique
  billingPeriodId    String               @db.Uuid
  subtotal           Decimal              @db.Decimal(10, 2)
  taxAmount          Decimal              @default(0) @db.Decimal(10, 2)
  totalAmount        Decimal              @db.Decimal(10, 2)
  status             InvoiceStatus        @default(DRAFT)
  issuedAt           DateTime?
  dueDate            DateTime?
  paidAt             DateTime?
  createdAt          DateTime             @default(now())
  updatedAt          DateTime
  invoice_line_items invoice_line_items[]
  date_ranges        date_ranges          @relation(fields: [billingPeriodId], references: [id])
  client_profiles    client_profiles      @relation(fields: [clientId], references: [id], onDelete: Cascade)
  payments           payments[]
}

model job_executions {
  id          String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  jobId       String
  jobName     String
  queueName   String
  status      JobStatus @default(PENDING)
  progress    Int       @default(0)
  startedAt   DateTime?
  completedAt DateTime?
  failedAt    DateTime?
  jobData     Json?
  result      Json?
  error       String?
  attempts    Int       @default(0)
  maxAttempts Int       @default(3)
  createdAt   DateTime  @default(now())
  updatedAt   DateTime

  @@index([jobName, status])
  @@index([queueName, status])
}

model medical_info {
  id              String           @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  allergies       String[]
  medications     String[]
  conditions      String[]
  physicians      Json[]
  insuranceInfo   Json?
  clientProfileId String?          @unique @db.Uuid
  client_profiles client_profiles? @relation(fields: [clientProfileId], references: [id])
}

model message_attachments {
  id        String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  messageId String   @db.Uuid
  fileName  String
  fileSize  Int
  mimeType  String
  fileUrl   String
  createdAt DateTime @default(now())
  messages  messages @relation(fields: [messageId], references: [id], onDelete: Cascade)
}

model message_reads {
  messageId String   @db.Uuid
  userId    String   @db.Uuid
  readAt    DateTime @default(now())
  messages  messages @relation(fields: [messageId], references: [id], onDelete: Cascade)

  @@id([messageId, userId])
}

model message_threads {
  id                  String                @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  subject             String?
  threadType          ThreadType            @default(GENERAL)
  clientId            String?               @db.Uuid
  isActive            Boolean               @default(true)
  createdAt           DateTime              @default(now())
  updatedAt           DateTime
  client_profiles     client_profiles?      @relation(fields: [clientId], references: [id])
  messages            messages[]
  thread_participants thread_participants[]
}

model messages {
  id                  String                @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  threadId            String                @db.Uuid
  senderId            String                @db.Uuid
  content             String
  messageType         MessageType           @default(TEXT)
  createdAt           DateTime              @default(now())
  updatedAt           DateTime
  message_attachments message_attachments[]
  message_reads       message_reads[]
  users               users                 @relation(fields: [senderId], references: [id], onDelete: Cascade)
  message_threads     message_threads       @relation(fields: [threadId], references: [id], onDelete: Cascade)
}

model payments {
  id              String        @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  invoiceId       String        @db.Uuid
  amount          Decimal       @db.Decimal(10, 2)
  paymentMethod   PaymentMethod
  status          PaymentStatus @default(PENDING)
  stripePaymentId String?
  stripeChargeId  String?
  processedAt     DateTime?
  failureReason   String?
  createdAt       DateTime      @default(now())
  updatedAt       DateTime
  invoices        invoices      @relation(fields: [invoiceId], references: [id], onDelete: Cascade)
}

model plans_of_care {
  id                   String                 @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  clientId             String                 @unique @db.Uuid
  effectiveDate        DateTime
  expirationDate       DateTime?
  totalWeeklyHours     Int
  status               PlanStatus             @default(DRAFT)
  approvedAt           DateTime?
  approvedBy           String?
  createdAt            DateTime               @default(now())
  updatedAt            DateTime
  care_goals           care_goals[]
  client_profiles      client_profiles        @relation(fields: [clientId], references: [id], onDelete: Cascade)
  schedule_preferences schedule_preferences[]
  service_tasks        service_tasks[]
}

model schedule_preferences {
  id                 String              @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  dayOfWeek          DayOfWeek
  startTime          String
  endTime            String
  duration           Int
  caregiverProfileId String?             @db.Uuid
  planOfCareId       String?             @db.Uuid
  caregiver_profiles caregiver_profiles? @relation(fields: [caregiverProfileId], references: [id])
  plans_of_care      plans_of_care?      @relation(fields: [planOfCareId], references: [id])
}

model service_tasks {
  id                String        @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  planOfCareId      String        @db.Uuid
  name              String
  description       String?
  category          TaskCategory
  frequency         TaskFrequency
  estimatedDuration Int
  requiredSkills    SkillType[]
  isRequired        Boolean       @default(true)
  createdAt         DateTime      @default(now())
  updatedAt         DateTime
  plans_of_care     plans_of_care @relation(fields: [planOfCareId], references: [id], onDelete: Cascade)
}

model sms_logs {
  id             String          @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  to             String
  from           String?
  message        String
  templateId     String?
  templateData   Json?
  status         SmsStatus       @default(PENDING)
  deliveryStatus String?
  errorMessage   String?
  provider       String          @default("TWILIO")
  messageId      String?
  priority       MessagePriority @default(NORMAL)
  sentAt         DateTime?
  deliveredAt    DateTime?
  createdAt      DateTime        @default(now())
  updatedAt      DateTime
}

model system_metrics {
  id         String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  metricType String
  metricName String
  value      Decimal  @db.Decimal(15, 4)
  unit       String?
  tags       Json?
  timestamp  DateTime @default(now())

  @@index([metricType, metricName, timestamp])
}

model system_settings {
  id          String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  key         String   @unique
  value       Json
  description String?
  category    String   @default("GENERAL")
  isEncrypted Boolean  @default(false)
  isReadOnly  Boolean  @default(false)
  createdAt   DateTime @default(now())
  updatedAt   DateTime
}

model thread_participants {
  threadId        String          @db.Uuid
  userId          String          @db.Uuid
  joinedAt        DateTime        @default(now())
  leftAt          DateTime?
  message_threads message_threads @relation(fields: [threadId], references: [id], onDelete: Cascade)

  @@id([threadId, userId])
}

model timesheets {
  id                 String             @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  caregiverId        String             @db.Uuid
  payPeriodId        String             @db.Uuid
  regularHours       Decimal            @default(0) @db.Decimal(6, 2)
  overtimeHours      Decimal            @default(0) @db.Decimal(6, 2)
  holidayHours       Decimal            @default(0) @db.Decimal(6, 2)
  totalMileage       Decimal            @default(0) @db.Decimal(8, 2)
  mileageRate        Decimal            @default(0.67) @db.Decimal(4, 3)
  status             TimesheetStatus    @default(DRAFT)
  submittedAt        DateTime?
  approvedAt         DateTime?
  approvedBy         String?
  createdAt          DateTime           @default(now())
  updatedAt          DateTime
  caregiver_profiles caregiver_profiles @relation(fields: [caregiverId], references: [id], onDelete: Cascade)
  date_ranges        date_ranges        @relation(fields: [payPeriodId], references: [id])
}

model user_invites {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  email      String
  role       UserRole
  invitedBy  String    @db.Uuid
  inviteCode String    @unique
  expiresAt  DateTime
  acceptedAt DateTime?
  createdAt  DateTime  @default(now())
  updatedAt  DateTime
  users      users     @relation(fields: [invitedBy], references: [id], onDelete: Cascade)
}

model users {
  id                                           String                @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  email                                        String                @unique
  role                                         UserRole
  isActive                                     Boolean               @default(true)
  createdAt                                    DateTime              @default(now())
  updatedAt                                    DateTime
  lastLoginAt                                  DateTime?
  appointments_appointments_caregiverIdTousers appointments[]        @relation("appointments_caregiverIdTousers")
  appointments_appointments_clientIdTousers    appointments[]        @relation("appointments_clientIdTousers")
  appointments_appointments_createdByIdTousers appointments[]        @relation("appointments_createdByIdTousers")
  audit_logs                                   audit_logs[]
  caregiver_profiles                           caregiver_profiles?
  client_profiles                              client_profiles?
  coordinator_profiles                         coordinator_profiles?
  documents                                    documents[]
  family_profiles                              family_profiles?
  incident_reports                             incident_reports[]
  messages                                     messages[]
  user_invites                                 user_invites[]
}

model visit_tasks {
  id          String       @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  visitId     String       @db.Uuid
  taskName    String
  category    TaskCategory
  isCompleted Boolean      @default(false)
  notes       String?
  completedAt DateTime?
  visits      visits       @relation(fields: [visitId], references: [id], onDelete: Cascade)
}

model visits {
  id                 String              @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  clientId           String              @db.Uuid
  caregiverId        String?             @db.Uuid
  scheduledStart     DateTime
  scheduledEnd       DateTime
  actualStart        DateTime?
  actualEnd          DateTime?
  status             VisitStatus         @default(SCHEDULED)
  visitType          VisitType           @default(REGULAR_CARE)
  notes              String?
  clientSignature    String?
  caregiverNotes     String?
  billableHours      Decimal?            @db.Decimal(4, 2)
  mileage            Decimal?            @db.Decimal(6, 2)
  createdAt          DateTime            @default(now())
  updatedAt          DateTime
  evv_events         evv_events[]
  visit_tasks        visit_tasks[]
  caregiver_profiles caregiver_profiles? @relation(fields: [caregiverId], references: [id])
  client_profiles    client_profiles     @relation(fields: [clientId], references: [id], onDelete: Cascade)
}

enum AccessLevel {
  PUBLIC
  INTERNAL
  PRIVATE
  CONFIDENTIAL
}

enum AppointmentStatus {
  SCHEDULED
  COMPLETED
  CANCELLED
  RESCHEDULED
  NO_SHOW
}

enum AuditAction {
  CREATE
  READ
  UPDATE
  DELETE
  LOGIN
  LOGOUT
  EXPORT
  IMPORT
}

enum CareRequestStatus {
  PENDING
  CONTACTED
  ASSESSMENT_SCHEDULED
  ASSESSMENT_COMPLETED
  CARE_PLAN_CREATED
  SERVICE_STARTED
  CANCELLED
  CLOSED
}

enum CaregiverStatus {
  APPLICATION_SUBMITTED
  BACKGROUND_CHECK_PENDING
  BACKGROUND_CHECK_APPROVED
  BACKGROUND_CHECK_FAILED
  CREDENTIALS_PENDING
  TRAINING_REQUIRED
  TRAINING_COMPLETED
  ACTIVE
  INACTIVE
  TERMINATED
}

enum ClientStatus {
  INQUIRY
  ASSESSMENT_SCHEDULED
  ASSESSMENT_COMPLETED
  PENDING_APPROVAL
  ACTIVE
  ON_HOLD
  DISCHARGED
}

enum ContactMethod {
  EMAIL
  PHONE
  SMS
  MAIL
}

enum CredentialStatus {
  PENDING_VERIFICATION
  VERIFIED
  EXPIRED
  REJECTED
}

enum CredentialType {
  CNA
  PCA
  HHA
  CPR
  FIRST_AID
  TB_TEST
  BACKGROUND_CHECK
  DRIVERS_LICENSE
  AUTO_INSURANCE
  PROFESSIONAL_LIABILITY
}

enum DayOfWeek {
  MONDAY
  TUESDAY
  WEDNESDAY
  THURSDAY
  FRIDAY
  SATURDAY
  SUNDAY
}

enum DocumentStatus {
  ACTIVE
  ARCHIVED
  DELETED
}

enum DocumentType {
  SERVICE_AGREEMENT
  CARE_PLAN
  ASSESSMENT
  INCIDENT_REPORT
  CREDENTIAL
  IDENTIFICATION
  INSURANCE_CARD
  EMERGENCY_CONTACT
  MEDICAL_FORM
  PHOTO
  OTHER
}

enum EVVEventType {
  CLOCK_IN
  CLOCK_OUT
  BREAK_START
  BREAK_END
  LOCATION_UPDATE
}

enum EmailStatus {
  PENDING
  SENT
  DELIVERED
  BOUNCED
  FAILED
  OPENED
  CLICKED
}

enum EmploymentType {
  FULL_TIME
  PART_TIME
  ON_CALL
  CONTRACT
}

enum Gender {
  MALE
  FEMALE
  OTHER
  PREFER_NOT_TO_SAY
}

enum GoalStatus {
  NOT_STARTED
  IN_PROGRESS
  COMPLETED
  ON_HOLD
  DISCONTINUED
}

enum IncidentSeverity {
  LOW
  MEDIUM
  HIGH
  CRITICAL
}

enum IncidentStatus {
  REPORTED
  UNDER_INVESTIGATION
  RESOLVED
  CLOSED
}

enum IncidentType {
  FALL
  MEDICATION_ERROR
  INJURY
  EMERGENCY_ROOM_VISIT
  HOSPITALIZATION
  EQUIPMENT_MALFUNCTION
  THEFT
  ABUSE_ALLEGATION
  BEHAVIORAL_INCIDENT
  OTHER
}

enum InvoiceStatus {
  DRAFT
  PENDING_APPROVAL
  ISSUED
  PAID
  OVERDUE
  CANCELLED
  REFUNDED
}

enum JobStatus {
  PENDING
  ACTIVE
  COMPLETED
  FAILED
  DELAYED
  CANCELLED
}

enum LanguageProficiency {
  BASIC
  CONVERSATIONAL
  FLUENT
  NATIVE
}

enum MessagePriority {
  LOW
  NORMAL
  HIGH
  URGENT
}

enum MessageType {
  TEXT
  SYSTEM
  INCIDENT_REPORT
  REMINDER
}

enum PaymentMethod {
  CREDIT_CARD
  ACH
  CHECK
  CASH
  INSURANCE
  OTHER
}

enum PaymentStatus {
  PENDING
  PROCESSING
  COMPLETED
  FAILED
  CANCELLED
  REFUNDED
}

enum PlanStatus {
  DRAFT
  PENDING_APPROVAL
  ACTIVE
  SUSPENDED
  EXPIRED
}

enum Priority {
  LOW
  MEDIUM
  HIGH
  CRITICAL
}

enum SkillLevel {
  BASIC
  INTERMEDIATE
  ADVANCED
  EXPERT
}

enum SkillType {
  PERSONAL_CARE
  MEDICATION_REMINDERS
  MEAL_PREPARATION
  LIGHT_HOUSEKEEPING
  TRANSPORTATION
  COMPANIONSHIP
  DEMENTIA_CARE
  MOBILITY_ASSISTANCE
  TRANSFER_ASSISTANCE
  INCONTINENCE_CARE
  WOUND_CARE
  VITAL_SIGNS
  OXYGEN_THERAPY
}

enum SmsStatus {
  PENDING
  SENT
  DELIVERED
  FAILED
  UNDELIVERED
}

enum TaskCategory {
  PERSONAL_CARE
  MEDICATION_MANAGEMENT
  HOUSEHOLD_TASKS
  NUTRITION
  TRANSPORTATION
  COMPANIONSHIP
  SAFETY_SUPERVISION
  EXERCISE_MOBILITY
}

enum TaskFrequency {
  EVERY_VISIT
  DAILY
  WEEKLY
  BI_WEEKLY
  MONTHLY
  AS_NEEDED
}

enum ThreadType {
  GENERAL
  INCIDENT
  COORDINATION
  FAMILY_UPDATES
  BILLING
}

enum TimesheetStatus {
  DRAFT
  SUBMITTED
  APPROVED
  REJECTED
  PROCESSED
}

enum UserRole {
  CLIENT
  FAMILY
  CAREGIVER
  COORDINATOR
  ADMIN
}

enum VisitStatus {
  SCHEDULED
  IN_PROGRESS
  COMPLETED
  CANCELLED
  NO_SHOW_CLIENT
  NO_SHOW_CAREGIVER
  LATE_CANCELLATION
}

enum VisitType {
  REGULAR_CARE
  RESPITE_CARE
  EMERGENCY_CARE
  ASSESSMENT
  SUPERVISION
}
